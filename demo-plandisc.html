<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Circalify - PlanDisc Style</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
        background: #f5f7fa;
        overflow: hidden;
      }

      #container {
        width: 100vw;
        height: 100vh;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>

    <!-- Load modules in correct order -->
    <script src="layout-calculator.js"></script>
    <script src="config-parser.js"></script>
    <script src="base-ring.js"></script>
    <script src="calendar-ring.js"></script>
    <script src="header-ring.js"></script>
    <script src="data-ring.js"></script>
    <script src="ring-factory.js"></script>
    <script src="circalify-core.js"></script>
    <script src="circalify.js"></script>

    <script>
      // Ring 1 Events - Planning & Strategy (overlapping periods)
      const ring1Events = [
        {
          label: "Q1 Strategy",
          startDate: "2025-01-05",
          endDate: "2025-03-20",
          color: "#5a9aa8",
        },
        {
          label: "Budget Review",
          startDate: "2025-02-10",
          endDate: "2025-02-28",
          color: "#6ba5b3",
        },
        {
          label: "Q2 Planning",
          startDate: "2025-04-01",
          endDate: "2025-06-15",
          color: "#5a9aa8",
        },
        {
          label: "Mid-Year Review",
          startDate: "2025-06-01",
          endDate: "2025-07-15",
          color: "#6ba5b3",
        },
        {
          label: "Q3 Strategy",
          startDate: "2025-07-05",
          endDate: "2025-09-20",
          color: "#5a9aa8",
        },
        {
          label: "Q4 Planning",
          startDate: "2025-10-01",
          endDate: "2025-12-15",
          color: "#5a9aa8",
        },
      ];

      // Ring 2 Events - Operations (overlapping periods)
      const ring2Events = [
        {
          label: "Operations A",
          startDate: "2025-01-10",
          endDate: "2025-02-15",
          color: "#7ac7c4",
        },
        {
          label: "Operations B",
          startDate: "2025-02-01",
          endDate: "2025-03-10",
          color: "#8bd4d1",
        },
        {
          label: "Operations C",
          startDate: "2025-03-15",
          endDate: "2025-04-25",
          color: "#7ac7c4",
        },
        {
          label: "Operations D",
          startDate: "2025-05-01",
          endDate: "2025-06-20",
          color: "#8bd4d1",
        },
        {
          label: "Operations E",
          startDate: "2025-06-10",
          endDate: "2025-07-25",
          color: "#7ac7c4",
        },
        {
          label: "Operations F",
          startDate: "2025-08-01",
          endDate: "2025-09-15",
          color: "#8bd4d1",
        },
        {
          label: "Operations G",
          startDate: "2025-09-10",
          endDate: "2025-10-30",
          color: "#7ac7c4",
        },
        {
          label: "Operations H",
          startDate: "2025-11-01",
          endDate: "2025-12-20",
          color: "#8bd4d1",
        },
      ];

      // Ring 3 Events - Projects (overlapping periods)
      const ring3Events = [
        {
          label: "Project Alpha",
          startDate: "2025-01-15",
          endDate: "2025-03-15",
          color: "#d89b7d",
        },
        {
          label: "Project Beta",
          startDate: "2025-02-20",
          endDate: "2025-04-10",
          color: "#e3a688",
        },
        {
          label: "Project Gamma",
          startDate: "2025-04-05",
          endDate: "2025-05-30",
          color: "#d89b7d",
        },
        {
          label: "Project Delta",
          startDate: "2025-05-15",
          endDate: "2025-07-20",
          color: "#e3a688",
        },
        {
          label: "Project Epsilon",
          startDate: "2025-07-10",
          endDate: "2025-09-05",
          color: "#d89b7d",
        },
        {
          label: "Project Zeta",
          startDate: "2025-08-20",
          endDate: "2025-10-15",
          color: "#e3a688",
        },
        {
          label: "Project Eta",
          startDate: "2025-10-05",
          endDate: "2025-11-30",
          color: "#d89b7d",
        },
        {
          label: "Project Theta",
          startDate: "2025-11-15",
          endDate: "2025-12-31",
          color: "#e3a688",
        },
      ];

      // Configuration using new API
      // Note: innerRadius, outerRadius, and viewBoxPadding now use
      // standard values (180, 420, 80) optimized for beautiful display
      const config = {
        title: "Annual Planning Wheel",
        startYear: 2025,
        startMonth: 0,
        numberOfMonths: 12,
        sameRingHeight: false,
        backgroundColor: "#f5f7fa",
        colorPalette: ["#b8e6e6", "#ffd4d4", "#d4e8e0", "#f0dcd4"],

        rings: [
          // Ring 1 - Planning & Strategy (Innermost data ring)
          {
            type: "data",
            name: "Planning",
            color: "#e8f4f8",
            unit: "month",
            height: 25,
            fontSize: 9,
            fontColor: "#2c5f6f",
            separator: false,
          },

          // Header 1
          {
            type: "header",
            headerText: "Strategy & Planning",
            color: "#5a9aa8",
            height: 12,
            fontSize: 9,
            fontColor: "#ffffff",
            separator: true,
          },

          // Ring 2 - Operations
          {
            type: "data",
            name: "Operations",
            color: "#e0f5f4",
            unit: "day",
            height: 25,
            fontSize: 9,
            fontColor: "#2c6f6a",
            separator: false,
          },

          // Header 2
          {
            type: "header",
            headerText: "Operations & Execution",
            color: "#7ac7c4",
            height: 12,
            fontSize: 9,
            fontColor: "#ffffff",
            separator: true,
          },

          // Ring 3 - Projects
          {
            type: "data",
            name: "Projects",
            color: "#fef3ed",
            unit: "day",
            height: 25,
            fontSize: 9,
            fontColor: "#7a4f3d",
            separator: false,
          },

          // Header 3
          {
            type: "header",
            headerText: "Project Delivery",
            color: "#d89b7d",
            height: 12,
            fontSize: 9,
            fontColor: "#ffffff",
            separator: true,
          },

          // Ring 4 - Week Numbers
          {
            type: "calendar",
            calendarType: "Week Numbers",
            showYear: true,
            color: "#f5f5f5",
            height: 14,
            separator: true,
            fontSize: 9,
            fontColor: "#666",
          },

          // Ring 5 - Month Names with Year (Outermost ring)
          {
            type: "calendar",
            calendarType: "Month Names",
            showYear: true,
            color: "#e0e0e0",
            height: 16,
            separator: true,
            fontSize: 11,
            fontColor: "#333",
          },
        ],
      };

      // Initialize
      const container = document.getElementById("container");
      const wheel = new AnnualWheel(container, config);

      // Set data for each ring (with overlapping events)
      wheel.setData(ring1Events, "Planning");
      wheel.setData(ring2Events, "Operations");
      wheel.setData(ring3Events, "Projects");

      console.log("Freestyle Circalify visualization loaded!");
      console.log("Total Rings:", wheel.getRings().length);
      console.log("DataRings:", wheel.getDataRings().length);
    </script>
  </body>
</html>
