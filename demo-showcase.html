<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Circalify 2.0 - Showcase All Ring Types</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
        background: #f5f7fa;
        overflow: hidden;
      }

      #container {
        width: 100vw;
        height: 100vh;
      }

      .controls {
        position: fixed;
        top: 80px;
        left: 20px;
        background: white;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        z-index: 1000;
        max-width: 250px;
      }

      .controls h3 {
        margin: 0 0 10px 0;
        font-size: 14px;
        color: #333;
      }

      .controls button {
        display: block;
        width: 100%;
        margin-bottom: 8px;
        padding: 8px 12px;
        border: 1px solid #ddd;
        background: white;
        border-radius: 4px;
        cursor: pointer;
        font-size: 13px;
        transition: all 0.2s;
      }

      .controls button:hover {
        background: #f5f5f5;
        border-color: #5090d3;
      }

      .controls button.active {
        background: #5090d3;
        color: white;
        border-color: #5090d3;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>

    <div class="controls">
      <h3>Calendar Type</h3>
      <button
        onclick="changeCalendarType('Month Names')"
        class="active"
        id="btn-months"
      >
        Month Names
      </button>
      <button onclick="changeCalendarType('Week Numbers')" id="btn-weeks">
        Week Numbers
      </button>
      <button onclick="changeCalendarType('Day Numbers')" id="btn-days">
        Day Numbers
      </button>
      <button onclick="changeCalendarType('Quarters')" id="btn-quarters">
        Quarters
      </button>
    </div>

    <!-- Load modules in correct order -->
    <script src="layout-calculator.js"></script>
    <script src="config-parser.js"></script>
    <script src="base-ring.js"></script>
    <script src="calendar-ring.js"></script>
    <script src="header-ring.js"></script>
    <script src="data-ring.js"></script>
    <script src="ring-factory.js"></script>
    <script src="circalify-core.js"></script>
    <script src="circalify.js"></script>

    <script>
      // Core Events (for inner DataRing)
      const coreEvents = [
        {
          label: "Q1 Planning",
          startDate: "2025-01-06",
          endDate: "2025-01-12",
          color: "#1976d2",
        },
        {
          label: "Board Meeting",
          startDate: "2025-02-10",
          endDate: "2025-02-15",
          color: "#1976d2",
        },
        {
          label: "Q2 Review",
          startDate: "2025-04-20",
          endDate: "2025-04-25",
          color: "#1976d2",
        },
        {
          label: "Mid-Year",
          startDate: "2025-06-15",
          endDate: "2025-06-20",
          color: "#1565c0",
        },
        {
          label: "Q3 Board",
          startDate: "2025-08-25",
          endDate: "2025-09-05",
          color: "#1976d2",
        },
        {
          label: "Year-End",
          startDate: "2025-12-15",
          endDate: "2025-12-31",
          color: "#0d47a1",
        },
      ];

      // Secondary Events (for outer DataRing)
      const secondaryEvents = [
        {
          label: "Team Workshop",
          startDate: "2025-01-20",
          endDate: "2025-01-22",
          color: "#2e7d32",
        },
        {
          label: "Training",
          startDate: "2025-03-12",
          endDate: "2025-03-18",
          color: "#388e3c",
        },
        {
          label: "Conference",
          startDate: "2025-05-20",
          endDate: "2025-06-05",
          color: "#43a047",
        },
        {
          label: "Summer Camp",
          startDate: "2025-07-01",
          endDate: "2025-07-15",
          color: "#4caf50",
        },
        {
          label: "Team Offsite",
          startDate: "2025-09-10",
          endDate: "2025-09-18",
          color: "#66bb6a",
        },
        {
          label: "Strategy",
          startDate: "2025-11-05",
          endDate: "2025-11-12",
          color: "#2e7d32",
        },
      ];

      // Configuration showcasing all ring types
      let currentConfig = {
        title: "Flexible Ring System Showcase",
        startYear: 2025,
        startMonth: 0,
        numberOfMonths: 12,
        sameRingHeight: false,
        innerRadius: 40,
        outerRadius: 240,
        viewBoxPadding: 40,
        backgroundColor: "#f5f7fa",
        showTimeline: true,
        enableDetailPanel: true,

        // 5 rings demonstrating flexibility
        rings: [
          // Ring 0 - Innermost: Data Ring 1
          {
            type: "data",
            active: true,
            name: "Core Events",
            color: "#e3f2fd",
            unit: "month",
            height: 4,
            fontSize: 9,
            fontColor: "#1976d2",
            separator: true,
          },

          // Ring 1: Data Ring 2
          {
            type: "data",
            active: true,
            name: "Secondary Events",
            color: "#e8f5e9",
            unit: "week",
            height: 16,
            fontSize: 9,
            fontColor: "#2e7d32",
            separator: true,
          },

          // Ring 0 - Innermost: Data Ring 1
          {
            type: "data",
            active: true,
            name: "Core Events",
            color: "#e3f2fd",
            unit: "month",
            height: 4,
            fontSize: 9,
            fontColor: "#1976d2",
            separator: true,
          },

          // Ring 2: Calendar - Month Names
          {
            type: "calendar",
            active: true,
            calendarType: "Week Numbers",
            color: "gray",
            showYear: false,
            height: 2,
            separator: true,
            fontSize: 10,
            fontColor: "#e65100",
          },

          // Ring 3: Calendar - Month Names
          {
            type: "calendar",
            active: true,
            calendarType: "Month Names",
            showYear: true,
            color: "gray",
            height: 4,
            separator: true,
            fontSize: 10,
            fontColor: "#e65100",
          },
        ],
      };

      let wheel = null;

      function initializeWheel() {
        const container = document.getElementById("container");
        container.innerHTML = ""; // Clear previous
        wheel = new AnnualWheel(container, currentConfig);

        // Load separate data into each DataRing
        wheel.setData(coreEvents, "Core Events");
        wheel.setData(secondaryEvents, "Secondary Events");
      }

      function changeCalendarType(type) {
        // Update active button
        document.querySelectorAll(".controls button").forEach((btn) => {
          btn.classList.remove("active");
        });
        document
          .getElementById(`btn-${type.toLowerCase().split(" ")[0]}`)
          .classList.add("active");

        // Update config
        const calendarRing = currentConfig.rings.find(
          (r) => r.type === "calendar",
        );
        if (calendarRing) {
          calendarRing.calendarType = type;
        }

        // Reinitialize
        initializeWheel();
      }

      // Initialize on load
      initializeWheel();

      console.log("Circalify 2.0 Showcase loaded!");
      console.log("Total Rings:", wheel.getRings().length);
      console.log("DataRings:", wheel.getDataRings().length);
      console.log("Core Events loaded:", coreEvents.length, "events");
      console.log("Secondary Events loaded:", secondaryEvents.length, "events");
      console.log("Note: Each DataRing has its own separate event data!");
    </script>
  </body>
</html>
