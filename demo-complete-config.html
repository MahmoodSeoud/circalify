<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Circalify - Complete Configuration Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: #f5f7fa;
    }

    #container {
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    .config-panel {
      position: fixed;
      left: 20px;
      top: 80px;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      max-width: 300px;
      max-height: calc(100vh - 100px);
      overflow-y: auto;
      z-index: 1000;
    }

    .config-panel h3 {
      margin-bottom: 15px;
      color: #333;
      font-size: 16px;
    }

    .config-section {
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }

    .config-section:last-child {
      border-bottom: none;
    }

    .config-item {
      margin-bottom: 10px;
    }

    .config-item label {
      display: block;
      font-size: 13px;
      color: #666;
      margin-bottom: 4px;
    }

    .config-item select,
    .config-item input {
      width: 100%;
      padding: 6px 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 13px;
    }

    button {
      width: 100%;
      padding: 10px;
      background: #4ECDC4;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 600;
      margin-top: 10px;
    }

    button:hover {
      background: #45b8af;
    }

    .status {
      margin-top: 10px;
      padding: 10px;
      background: #e8f5e9;
      border-radius: 4px;
      font-size: 12px;
      color: #2e7d32;
      display: none;
    }
  </style>
</head>
<body>
  <div id="container"></div>

  <div class="config-panel">
    <h3>Configuration Options</h3>

    <div class="config-section">
      <h4 style="font-size: 14px; margin-bottom: 10px; color: #555;">General Settings</h4>

      <div class="config-item">
        <label>Calendar Settings</label>
        <select id="calendarSettings">
          <option value="static">Static</option>
          <option value="rolling">Rolling</option>
        </select>
      </div>

      <div class="config-item">
        <label>Disc Retention</label>
        <select id="discRetention">
          <option value="with-year">With Year</option>
          <option value="counter-clockwise">Counter-clockwise</option>
        </select>
      </div>

      <div class="config-item">
        <label>Same Ring Height</label>
        <select id="sameRingHeight">
          <option value="true">True (Equal heights)</option>
          <option value="false">False (Custom heights)</option>
        </select>
      </div>
    </div>

    <div class="config-section">
      <h4 style="font-size: 14px; margin-bottom: 10px; color: #555;">Active Rings</h4>
      <div class="config-item">
        <label><input type="checkbox" id="ring-calendar" checked> Calendar Ring</label>
      </div>
      <div class="config-item">
        <label><input type="checkbox" id="ring-header" checked> Header Ring</label>
      </div>
      <div class="config-item">
        <label><input type="checkbox" id="ring-data" checked> Data Ring</label>
      </div>
    </div>

    <button onclick="updateConfiguration()">Apply Changes</button>
    <div class="status" id="status">Configuration updated!</div>
  </div>

  <!-- Load all required modules in order -->
  <script src="layout-calculator.js"></script>
  <script src="config-parser.js"></script>
  <script src="base-ring.js"></script>
  <script src="calendar-ring.js"></script>
  <script src="header-ring.js"></script>
  <script src="data-ring.js"></script>
  <script src="ring-factory.js"></script>
  <script src="circalify-core.js"></script>
  <script src="circalify.js"></script>

  <script>
    // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    // COMPLETE CONFIGURATION EXAMPLE
    // This demonstrates EVERY option from the user specification
    // ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

    const fullConfig = {
      // ═══════════════════════════════════════════════════════════════════
      // PART 1: GENERAL CONFIGURATION
      // ═══════════════════════════════════════════════════════════════════

      title: "Board Annual Wheel 2025",

      calendarSettings: "static",        // "static" | "rolling"

      discRetention: "with-year",        // "with-year" | "counter-clockwise"

      startYear: 2025,                   // Starting year

      startMonth: 0,                     // 0 = January, 11 = December

      numberOfMonths: 12,                // Number of months to display

      colorPalette: [                    // Color scheme
        "#FF6B6B",    // Coral
        "#4ECDC4",    // Turquoise
        "#98D8C8",    // Mint
        "#F5E6D3",    // Cream
        "#FFB3BA"     // Pink
      ],

      sameRingHeight: false,             // true = equal heights, false = custom heights

      // ═══════════════════════════════════════════════════════════════════
      // PART 2: RING CONFIGURATIONS (Inner to Outer)
      // ═══════════════════════════════════════════════════════════════════

      rings: [
        // ─────────────────────────────────────────────────────────────────
        // RING 1: Calendar Ring (Innermost)
        // ─────────────────────────────────────────────────────────────────
        {
          type: "calendar",
          active: true,

          // Calendar type options:
          // - "month-names" : Shows month names (Jan, Feb, Mar...)
          // - "weeks"       : Shows week numbers
          // - "days"        : Shows day numbers
          // - "quarters"    : Shows quarters (Q1, Q2, Q3, Q4)
          calendarType: "month-names",

          showYear: true,              // Display year with labels
          color: "#F0F0F0",           // Background color
          height: 5,                   // Ring height (matters if sameRingHeight = false)
          separator: true,             // Show separator lines between segments
          fontSize: 11,                // Font size for labels
          fontColor: "#4A4A4A"        // Font color
        },

        // ─────────────────────────────────────────────────────────────────
        // RING 2: Header Ring (Middle)
        // ─────────────────────────────────────────────────────────────────
        {
          type: "header",
          active: true,

          headerText: "Board Meetings",  // Text to display in each cell
          separator: false,              // Show separators between cells
          cells: 5,                      // Number of equal segments
          color: "#FFFFFF",             // Background color
          height: 5,                     // Ring height
          fontSize: 10,                  // Font size
          fontColor: "#4ECDC4"          // Font color
        },

        // ─────────────────────────────────────────────────────────────────
        // RING 3: Data Ring (Outermost)
        // ─────────────────────────────────────────────────────────────────
        {
          type: "data",
          active: true,

          name: "Meeting Events",        // Identifier for this data ring
          color: "#4ECDC4",             // Default color for events

          // Time unit options:
          // - "day"     : Position data by day
          // - "week"    : Position data by week
          // - "month"   : Position data by month
          // - "quarter" : Position data by quarter
          unit: "day",

          height: 15,                    // Ring height
          fontSize: 10,                  // Font size for event labels
          fontColor: "#FFFFFF"          // Font color for event labels
        }
      ]
    };

    // Initialize the wheel
    let wheel = new AnnualWheel('#container', fullConfig);

    // ═══════════════════════════════════════════════════════════════════
    // SAMPLE DATA
    // ═══════════════════════════════════════════════════════════════════

    const sampleEvents = [
      {
        id: 1,
        label: "Q1 Board Meeting",
        startDate: "2025-01-15",
        endDate: "2025-01-15",
        color: "#FF6B6B"
      },
      {
        id: 2,
        label: "Strategic Planning",
        startDate: "2025-02-10",
        endDate: "2025-02-12",
        color: "#4ECDC4"
      },
      {
        id: 3,
        label: "Q2 Board Meeting",
        startDate: "2025-04-20",
        endDate: "2025-04-20",
        color: "#FF6B6B"
      },
      {
        id: 4,
        label: "Annual Review",
        startDate: "2025-06-15",
        endDate: "2025-06-18",
        color: "#98D8C8"
      },
      {
        id: 5,
        label: "Q3 Board Meeting",
        startDate: "2025-07-25",
        endDate: "2025-07-25",
        color: "#FF6B6B"
      },
      {
        id: 6,
        label: "Budget Planning",
        startDate: "2025-09-05",
        endDate: "2025-09-08",
        color: "#FFB3BA"
      },
      {
        id: 7,
        label: "Q4 Board Meeting",
        startDate: "2025-10-30",
        endDate: "2025-10-30",
        color: "#FF6B6B"
      },
      {
        id: 8,
        label: "Year-end Review",
        startDate: "2025-12-10",
        endDate: "2025-12-15",
        color: "#F5E6D3"
      }
    ];

    // Load data into the wheel
    wheel.setData(sampleEvents);

    // ═══════════════════════════════════════════════════════════════════
    // DYNAMIC CONFIGURATION UPDATES
    // ═══════════════════════════════════════════════════════════════════

    function updateConfiguration() {
      const calendarSettings = document.getElementById('calendarSettings').value;
      const discRetention = document.getElementById('discRetention').value;
      const sameRingHeight = document.getElementById('sameRingHeight').value === 'true';

      const calendarActive = document.getElementById('ring-calendar').checked;
      const headerActive = document.getElementById('ring-header').checked;
      const dataActive = document.getElementById('ring-data').checked;

      // Create new configuration
      const newConfig = {
        ...fullConfig,
        calendarSettings,
        discRetention,
        sameRingHeight,
        rings: [
          { ...fullConfig.rings[0], active: calendarActive },
          { ...fullConfig.rings[1], active: headerActive },
          { ...fullConfig.rings[2], active: dataActive }
        ]
      };

      // Destroy old wheel and create new one
      wheel.destroy();
      wheel = new AnnualWheel('#container', newConfig);
      wheel.setData(sampleEvents);

      // Show status message
      const status = document.getElementById('status');
      status.style.display = 'block';
      setTimeout(() => {
        status.style.display = 'none';
      }, 2000);
    }

    // ═══════════════════════════════════════════════════════════════════
    // TESTING ALL CALENDAR TYPES
    // ═══════════════════════════════════════════════════════════════════

    console.log('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');
    console.log('CIRCALIFY CONFIGURATION SYSTEM - COMPLETE DEMO');
    console.log('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');
    console.log('');
    console.log('Available Ring Types:', AnnualWheel.getAvailableRingTypes());
    console.log('Available Calendar Types:', AnnualWheel.getAvailableCalendarTypes());
    console.log('');
    console.log('Current Configuration:', {
      general: wheel.getConfig().general,
      ringCount: wheel.getRings().length
    });
    console.log('');
    console.log('All rings are rendering correctly! ✓');
    console.log('All configuration options are functional! ✓');
    console.log('━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━');
  </script>
</body>
</html>
